<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta name="pinterest" content="nopin">
<meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
<meta name="generator" content="Hugo 0.87.0" />



<link rel="canonical" href="https://davidejones.github.io/hugo-hn/2021/08/18/show-hn-etsd-transmit-sensitive-data-encrypted-across-your-organization/">


    <title>Show HN: ETSD – Transmit sensitive data encrypted across your organization - Hugo Hacker News</title>
    
<meta name="description" content="">

<meta property="og:title" content="Show HN: ETSD – Transmit sensitive data encrypted across your organization - Hugo Hacker News">
<meta property="og:type" content="article">
<meta property="og:url" content="https://davidejones.github.io/hugo-hn/2021/08/18/show-hn-etsd-transmit-sensitive-data-encrypted-across-your-organization/">
<meta property="og:image" content="https://davidejones.github.io/hugo-hn/images/default.png">
<meta property="og:site_name" content="Hugo Hacker News">
<meta property="og:description" content="">
<meta property="og:locale" content="ja_JP">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="Hugo Hacker News">
<meta name="twitter:url" content="https://davidejones.github.io/hugo-hn/2021/08/18/show-hn-etsd-transmit-sensitive-data-encrypted-across-your-organization/">
<meta name="twitter:title" content="Show HN: ETSD – Transmit sensitive data encrypted across your organization - Hugo Hacker News">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="https://davidejones.github.io/hugo-hn/images/default.png">


<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "NewsArticle",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id":"https:\/\/davidejones.github.io\/hugo-hn\/"
    },
    "headline": "Show HN: ETSD – Transmit sensitive data encrypted across your organization - Hugo Hacker News",
    "image": {
      "@type": "ImageObject",
      "url": "https:\/\/davidejones.github.io\/hugo-hn\/images\/default.png",
      "height": 800,
      "width": 800
    },
    "datePublished": "2021-08-18T10:56:49JST",
    "dateModified": "2021-08-18T10:56:49JST",
    "author": {
      "@type": "Person",
      "name": "Hugo Hacker News"
    },
    "publisher": {
      "@type": "Organization",
      "name": "Hugo Hacker News",
      "logo": {
        "@type": "ImageObject",
        "url": "https:\/\/davidejones.github.io\/hugo-hn\/images/logo.png",
        "width": 600,
        "height": 60
      }
    },
    "description": ""
  }
</script>



    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">

    
    
    
    
        
    
    
    <link href="https://davidejones.github.io/hugo-hn/style.min.130df59cea3bafd8a515eeb4a51c215616cb41f2a9520765b9f1574d3cfedf2c485abb4a8d785adcd7acdc2400797ba6abffe5b0bb4612cb79bc0b884aac89e8.css" rel="stylesheet" />
</head>
<body class="post">
    <header>
        <a href="https://davidejones.github.io/hugo-hn/">Hugo Hacker News</a>
        <nav>
            <ul>
                
                    <li><a href="/hugo-hn/">new</a></li>
                
                    <li><a href="/hugo-hn/comments/">comments</a></li>
                
                    <li><a href="/hugo-hn/categories/show/">show</a></li>
                
                    <li><a href="/hugo-hn/categories/ask/">ask</a></li>
                
                    <li><a href="/hugo-hn/categories/jobs/">jobs</a></li>
                
                    <li><a href="https://news.ycombinator.com/submit">submit</a></li>
                
            </ul>
        </nav>
        <select onchange="myChangeHandler(this)">
            
                <option value="/hugo-hn/">new</option>
            
                <option value="/hugo-hn/comments/">comments</option>
            
                <option value="/hugo-hn/categories/show/">show</option>
            
                <option value="/hugo-hn/categories/ask/">ask</option>
            
                <option value="/hugo-hn/categories/jobs/">jobs</option>
            
                <option value="https://news.ycombinator.com/submit">submit</option>
            
        </select>
    </header>
    <main>
        
<article>
    <header>
        <h1><a href="https://github.com/spapas/etsd">Show HN: ETSD – Transmit sensitive data encrypted across your organization</a></h1>
        
    </header>
    
        
            


    
    <div class="comment hasChildren">
        <p><a href="https://news.ycombinator.com/user?id=spapas82" target="_blank">spapas82</a>   <span class="timeago" data-date="2021-08-18 10:59:27 &#43;0000 UTC">2021-08-18 10:59:27 &#43;0000 UTC</span> [ - ]</p>
        <div class="body">
            Hello friends, this is a Django project that we are going to use to submit sensitive data across the departments of our (public sector) organization. It uses Openpgp.js to encrypt&#x2F;decrypt all files locally to the users&#x27;s browsers and tries to make the PGP experience as flawless as possible for non-techical people.<p>I&#x27;m submitting it in case anybody finds it useful for his organization but also if somebody would like to take a peek and give me any security related feedback.<p>Thank you!
        </div>
        <div class="children">
            
                


    
    <div class="comment hasChildren">
        <p><a href="https://news.ycombinator.com/user?id=unixhero" target="_blank">unixhero</a>   <span class="timeago" data-date="2021-08-19 09:54:29 &#43;0000 UTC">2021-08-19 09:54:29 &#43;0000 UTC</span> [ - ]</p>
        <div class="body">
            Hi, it would be useful if you can document the end user journey and the administrator user journey in the form of screenshots in your github repo.<p>Cheers
        </div>
        <div class="children">
            
                


    
    <div class="comment ">
        <p><a href="https://news.ycombinator.com/user?id=spapas82" target="_blank">spapas82</a>   <span class="timeago" data-date="2021-08-19 10:00:20 &#43;0000 UTC">2021-08-19 10:00:20 &#43;0000 UTC</span> [ - ]</p>
        <div class="body">
            Thank you for the suggestion, I&#x27;ll get to it ASAP.
        </div>
        <div class="children">
            
        </div>
    </div>


            
        </div>
    </div>


            
                


    
    <div class="comment hasChildren">
        <p><a href="https://news.ycombinator.com/user?id=henryackerman" target="_blank">henryackerman</a>   <span class="timeago" data-date="2021-08-19 09:46:41 &#43;0000 UTC">2021-08-19 09:46:41 &#43;0000 UTC</span> [ - ]</p>
        <div class="body">
            Why did you opt for PGP? If I understand correctly, your system inherits the lack of PFS.
        </div>
        <div class="children">
            
                


    
    <div class="comment hasChildren">
        <p><a href="https://news.ycombinator.com/user?id=upofadown" target="_blank">upofadown</a>   <span class="timeago" data-date="2021-08-19 12:15:37 &#43;0000 UTC">2021-08-19 12:15:37 &#43;0000 UTC</span> [ - ]</p>
        <div class="body">
            This seems to be primarily for forwarding files. It is unlikely that the users would want to get rid of the files after transfer. Any attack intense enough to get access to the passphrase for the secret key (keylogger) will pretty much for sure give access to the files on the system involved at the time of attack (including insecurely deleted files) and any files that exist on the system going forward.<p>The whole thing is generally more secure then many of these file transfer things due to the use of the passphrase. The idea of strongly protecting the secret key against local attacks is a PGPism that tends to be forgotten these days.
        </div>
        <div class="children">
            
                


    
    <div class="comment ">
        <p><a href="https://news.ycombinator.com/user?id=spapas82" target="_blank">spapas82</a>   <span class="timeago" data-date="2021-08-19 12:17:43 &#43;0000 UTC">2021-08-19 12:17:43 &#43;0000 UTC</span> [ - ]</p>
        <div class="body">
            Yes, this will be used in our organization to transfer various documents (mainly pdf&#x2F;word files) that contain sensitive data (i.e medical conditions of colleagues).
        </div>
        <div class="children">
            
        </div>
    </div>


            
        </div>
    </div>


            
                


    
    <div class="comment ">
        <p><a href="https://news.ycombinator.com/user?id=spapas82" target="_blank">spapas82</a>   <span class="timeago" data-date="2021-08-19 09:59:44 &#43;0000 UTC">2021-08-19 09:59:44 &#43;0000 UTC</span> [ - ]</p>
        <div class="body">
            Yes there&#x27;s no PFS in ETSD. The data is encrypted with the recipient&#x27;s public key as normally in PGP so if the private key is compromised then the malicious user can decrypt all messages that were encrypted with that key (if he also gets access to the server holding the ciphers of course).<p>We wanted to use PGP because it&#x27;s a well known and heavily tested solution. Also, the openpgp.js library is great and makes it really easy to encrypt&#x2F;decrypt the messages to the client side without the need to really mess with security stuff. Finally, the users would want to have access to their old messages in the future so using ephemeral keys for each transmission wasn&#x27;t really possible.
        </div>
        <div class="children">
            
        </div>
    </div>


            
        </div>
    </div>


            
        </div>
    </div>


        
            


    
    <div class="comment hasChildren">
        <p><a href="https://news.ycombinator.com/user?id=adontz" target="_blank">adontz</a>   <span class="timeago" data-date="2021-08-19 11:39:33 &#43;0000 UTC">2021-08-19 11:39:33 &#43;0000 UTC</span> [ - ]</p>
        <div class="body">
            I am confused, is private key actually uploaded to server or just imported into client java script?
        </div>
        <div class="children">
            
                


    
    <div class="comment hasChildren">
        <p><a href="https://news.ycombinator.com/user?id=spapas82" target="_blank">spapas82</a>   <span class="timeago" data-date="2021-08-19 12:13:18 &#43;0000 UTC">2021-08-19 12:13:18 &#43;0000 UTC</span> [ - ]</p>
        <div class="body">
            The private key is not uploaded to the server, only the public key. It is loaded to the client javascript (localStorage) as you say. Also both the encryption and decryption are performed client side.<p>The result is that if the server is compromised no data should be leaked.
        </div>
        <div class="children">
            
                


    
    <div class="comment hasChildren">
        <p><a href="https://news.ycombinator.com/user?id=c22" target="_blank">c22</a>   <span class="timeago" data-date="2021-08-19 13:07:17 &#43;0000 UTC">2021-08-19 13:07:17 &#43;0000 UTC</span> [ - ]</p>
        <div class="body">
            If the server is compromised what&#x27;s to stop an attacker from replacing the end-user javascript with a malicious payload and quietly waiting for it to steal the keys?
        </div>
        <div class="children">
            
                


    
    <div class="comment hasChildren">
        <p><a href="https://news.ycombinator.com/user?id=spapas82" target="_blank">spapas82</a>   <span class="timeago" data-date="2021-08-19 13:21:54 &#43;0000 UTC">2021-08-19 13:21:54 &#43;0000 UTC</span> [ - ]</p>
        <div class="body">
            Yes you are right, nothing.  However that is a different and much more difficult kind of attack than the common one where an attacker retrieves all the files stored on the server and goes away.<p>Also I&#x27;m really not sure if such a determined attacker could be stopped somehow... Any suggestions?
        </div>
        <div class="children">
            
                


    
    <div class="comment hasChildren">
        <p><a href="https://news.ycombinator.com/user?id=c22" target="_blank">c22</a>   <span class="timeago" data-date="2021-08-19 14:10:35 &#43;0000 UTC">2021-08-19 14:10:35 &#43;0000 UTC</span> [ - ]</p>
        <div class="body">
            Whether or not an active attack is <i>much more difficult</i> than a passive one depends on the specific security profile of the entire service. Often a passive data-exfiltrating attack will become possible due to an innocent mis-configuration on the server, but mis-configuration can open the door to active attacks as well. There is no guarantee that any mistake in configuration will only allow passive attacks or that an attacker will choose to just &quot;go away&quot; after retrieving all of your files.<p>With this system, specifically, active attacks will be quite rewarding to any potential attacker because secrets are saved indefinitely and every user-key they steal will allow the recovery of multiple secrets. Since the rewards are high you should expect the chances of active attack to be heightened.<p>In order to mitigate against this you need the enduser to be able to verify the proper functioning of the encryption&#x2F;decryption apparatus. Usually this is accomplished with separate binaries, checksums, reproducible builds, and etc. Of course any solution will be vulnerable during updates of the encryption&#x2F;decryption endpoints, often an out-of-band channel is used to transfer the update or the verification checksum.<p>These challenges are particularly fraught when attempting to implement a secure system using in-browser javascript. Not only is the entire encryption&#x2F;decryption algorithm redistributed frequently, regardless of whether or not it has changed, but the tooling around authentication and validation of browser-resident javascript is currently very weak. In addition to compromise of the server, the system is still vulnerable to local attacks as well as a whole host of in-transit attacks that more static e2e systems don&#x27;t have to worry about (e.g. someone forgets to enable https, or happens to connect through a suss proxy).<p>Perhaps some sort of javascript pinning could help to alleviate some of the threat-surface, but to my knowledge no major browsers support anything like that.
        </div>
        <div class="children">
            
                


    
    <div class="comment hasChildren">
        <p><a href="https://news.ycombinator.com/user?id=spapas82" target="_blank">spapas82</a>   <span class="timeago" data-date="2021-08-19 14:43:28 &#43;0000 UTC">2021-08-19 14:43:28 &#43;0000 UTC</span> [ - ]</p>
        <div class="body">
            Thank you for this great explanation! I understand that the prolem is inherent in in web-ased security systems and not much can be done.<p>However, let&#x27;s suppose that I packed the client functionality to an electron app (i.e executable with some signature) so the .js files doing the encryption&#x2F;decryption would not be downloaded from the server each time but they would reside inside the electron app. Would that be better from a security standpoint against the attacks you mention or I&#x27;m missing something?
        </div>
        <div class="children">
            
                


    
    <div class="comment hasChildren">
        <p><a href="https://news.ycombinator.com/user?id=c22" target="_blank">c22</a>   <span class="timeago" data-date="2021-08-19 14:52:19 &#43;0000 UTC">2021-08-19 14:52:19 &#43;0000 UTC</span> [ - ]</p>
        <div class="body">
            Yes, this would be better. You would just have to be careful about how you distribute the app.
        </div>
        <div class="children">
            
                


    
    <div class="comment ">
        <p><a href="https://news.ycombinator.com/user?id=spapas82" target="_blank">spapas82</a>   <span class="timeago" data-date="2021-08-19 14:57:11 &#43;0000 UTC">2021-08-19 14:57:11 &#43;0000 UTC</span> [ - ]</p>
        <div class="body">
            Excellent thank you so much!
        </div>
        <div class="children">
            
        </div>
    </div>


            
        </div>
    </div>


            
        </div>
    </div>


            
        </div>
    </div>


            
        </div>
    </div>


            
        </div>
    </div>


            
                


    
    <div class="comment hasChildren">
        <p><a href="https://news.ycombinator.com/user?id=upofadown" target="_blank">upofadown</a>   <span class="timeago" data-date="2021-08-19 12:29:12 &#43;0000 UTC">2021-08-19 12:29:12 &#43;0000 UTC</span> [ - ]</p>
        <div class="body">
            Then that brings up the question; how is the private key backed up and does it need to be backed up? Or does the loss of the data on a system mean you start over for that system?
        </div>
        <div class="children">
            
                


    
    <div class="comment ">
        <p><a href="https://news.ycombinator.com/user?id=spapas82" target="_blank">spapas82</a>   <span class="timeago" data-date="2021-08-19 12:40:52 &#43;0000 UTC">2021-08-19 12:40:52 &#43;0000 UTC</span> [ - ]</p>
        <div class="body">
            Yes that&#x27;s right. The backing up of the private key and its passphrase is done out of this application.<p>So if an authority loses access to its private key then they need to generate a new key pair and start over. Of course they will lose access to all the files that are stored in the server and have been encrypted with that key&#x27;s pair (unless they have already downloaded them and saved then in a different place).
        </div>
        <div class="children">
            
        </div>
    </div>


            
        </div>
    </div>


            
        </div>
    </div>


            
        </div>
    </div>


        
    
</article>

    </main>
    <footer>
        <span class="h-logo">&copy; Hugo Hacker News</span><br/>
        Site created By <a href="https://davidejones.com" target="_blank">David E Jones</a> Powered by <a href="https://gohugo.io/" target="_blank">Hugo</a> and the <a href="https://github.com/HackerNews/API" target="_blank">Hacker News api</a>.
        <ul>
            
                <li><a href="/hugo-hn/guidelines/">Guidelines</a></li>
            
                <li><a href="/hugo-hn/faq/">FAQ</a></li>
            
                <li><a href="mailto:hn@ycombinator.com">Support</a></li>
            
                <li><a href="https://github.com/HackerNews/API">API</a></li>
            
                <li><a href="/hugo-hn/security/">Security</a></li>
            
                <li><a href="/hugo-hn/lists/">Lists</a></li>
            
                <li><a href="https://news.ycombinator.com/bookmarklet.html">Bookmarklet</a></li>
            
                <li><a href="/hugo-hn/dmca/">DMCA</a></li>
            
                <li><a href="http://www.ycombinator.com/apply/">Apply to YC</a></li>
            
                <li><a href="mailto:hn@ycombinator.com">Contact</a></li>
            
        </ul>
    </footer>

    
    
    
    
    
    
    <script type="text/javascript" src="https://davidejones.github.io/hugo-hn/main.01d140732eee0e8adfdb7a7f714755097c6676bfb8e8bf27645ce342b2ed12a481b08f6838c413c20bff3acf20f6159b3336339a220ff5ec5e45eb7877106361.js"  integrity="sha512-AdFAcy7uDorf23p/cUdVCXxmdr&#43;46L8nZFzjQrLtEqSBsI9oOMQTwgv/Os8g9hWbMzYzmiIP9exeRet4dxBjYQ=="  crossorigin="anonymous" defer></script>
</body>
</html>

